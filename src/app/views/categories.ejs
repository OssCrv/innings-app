<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('./partials/head'); %>
    <title>Categorias</title>
</head>

<body>

    <%- include('./partials/header'); %>

    <!-- Para agregar -->
    <div class="container m-4 text-center">
        <button type="button" class="btn btn-dark" data-bs-toggle="modal" data-bs-target="#addCategoryModal"
            data-bs-whatever="@fat"><span class="material-icons">person_add_alt</span></button>
    </div>
    <!-- Modal para agregar -->
    <%- include('./partials/addCategoryModal', {dependencies:dependencies}); %>

    <table class="table table-striped table-bordered table-lg" cellspacing="0" width="100%">
        <thead>
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Nombre</th>
                <th scope="col">Dependencia</th>
                <th scope="col">Editar</th>
                <th scope="col">Borrar</th>
            </tr>
        </thead>
        <tbody>

            <% for(let category of categories) { %>
                <tr>
                    <th scope="row" align="center" valign="middle">
                        <%= category.id_category %>
                    </th>
                    <td align="center" valign="middle">
                        <%= category.category_name %>
                    </td>
                    <td align="center" valign="middle">
                        <%= category.dependency_name %>
                    </td>
                    <td align="center" valign="middle"> <button type="button" class="btn btn-primary"
                            data-bs-toggle="modal" data-bs-target="#editModal<%= category.id_category %>"
                            data-bs-whatever="@fat"
                            style="display: flex;align-items: center;justify-content: center;"><span
                                class="material-icons">edit</span></button> </td>

                    <td align="center" valign="middle"> <a href="/categories/delete/<%= category.id_category %>"
                            class="btn btn-danger"
                            style="display: flex;align-items: center;justify-content: center;"><span
                                class="material-icons">delete_forever</span></a></td>
                </tr>
                <%- include('./partials/editCategoryModal', {category:category}); %>
                    <% } %>
        </tbody>
    </table>
    </section>

    <%- include('./partials/footer'); %>

</body>

</html>